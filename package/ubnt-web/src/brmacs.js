var mainTable;var _initialized=false;function refreshBrmacs(){var a={};a.brmacs="y";$.ajax({type:"GET",url:"brmacs.cgi",dataType:"json",cache:false,data:a,success:showBrmacs,error:handleError,complete:function(b,c){if(c!="success"){refreshBrmacs()}}})}function refreshAll(){if(typeof reloadStatus=="function"){reloadStatus()}refreshBrmacs()}function handleError(b,c,a){if(b&&b.status!=200&&b.status!=0){window.location.reload()}}function getBrmacInfo(b){var a=[devname2uidevname(b.bridge),b.hwaddr,devname2uidevname(b.port),b.ageing];return a}function showBrmacs(c){mainTable.fnClearTable();for(var b=0;c&&b<c.brmacs.length;b++){var a=c.brmacs[b];if(a!=null){mainTable.fnAddData(getBrmacInfo(a),true)}}}$(document).ready(function(){if(_initialized){return}else{_initialized=true}$("#_refresh").click(refreshAll);mainTable=$("#brmacs_tbl").dataTable({aaSorting:[[1,"asc"]],iDisplayLength:20,bLengthChange:false,bPaginate:true,bFilter:false,bSortClasses:false,bAutoWidth:false,sPaginationType:"full_numbers",oLanguage:{sEmptyTable:jsTranslate("Loading..."),sInfo:jsTranslate("msg_datatables_info|Showing _START_ to _END_ of _TOTAL_ entries"),sInfoEmpty:jsTranslate("Showing 0 to 0 of 0 entries"),oPaginate:{sFirst:"<<",sPrevious:"<",sNext:">",sLast:">>"}},fnInitComplete:function(a){a.oLanguage.sEmptyTable=jsTranslate("No bridge information.")}});refreshBrmacs()});