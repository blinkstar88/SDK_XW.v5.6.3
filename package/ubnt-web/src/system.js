var IP_regex=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;var HOSTNAME_regex=/^(([a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9\-]*[A-Za-z0-9])$/;var LATITUDE_regex=/^[-+]?(([0-8]\d|\d)(\.\d+)?|90(\.0+)?)$/;var LONGITUDE_regex=/^[-+]?((1[0-7]\d(\.\d+)?)|(180(\.0+)?)|(\d\d(\.\d+)?)|(\d(\.\d+)?))$/;function validateIP(a){return IP_regex.exec(a)!=null}function validateLogoURL(d,b,c){var a=document.getElementById("logoStatus");if(a.checked){return c.length>0}return true}function validateLogoFile(e,b,d){var a=document.getElementById("logoStatus");if(a.checked){if(d.length==0){return true}if(d.length<4){return false}var c=d.substring(d.length-4);if(c.toLowerCase()!=".gif"){return false}}return true}function logoStatusClicked(){var b=document.getElementById("logoStatus");statusClicked(b,new Array("logoURL","logoFile"));var a=document.getElementById("logoSubmit");a.value=!b.checked?system_l10n_change:system_l10n_upload}function pwdogStatusClicked(){var a=document.getElementById("pwdogStatus");statusClicked(a,new Array("pwdogHost","pwdogRetry","pwdogDelay","pwdogPeriod","pwdog_supp"))}function validatePwdog(b,a){var d=document.getElementById("pwdogStatus");if(d.checked){return validateStandard(b,a)}return true}function validatePwdogHost(e,a,b){var d=document.getElementById("pwdogStatus");if(d.checked){return validateIP(b)&&b!="0.0.0.0"&&b!="255.255.255.255"}return true}function snmpStatusClicked(){var a=document.getElementById("snmpStatus");statusClicked(a,new Array("snmpCommunity","snmpContact","snmpLocation"))}function ntpStatusClicked(){var a=document.getElementById("ntpStatus");statusClicked(a,new Array("ntpServer"))}function validateSnmp(b,a){var d=document.getElementById("snmpStatus");if(d.checked){return validateStandard(b,a)}return true}function validateBTP(b,a){var d=document.getElementById("ntpStatus");if(d.checked){return validateStandard(b,a)}return true}function httpdStatusClicked(){var a=document.getElementById("httpd_status");if(a.checked){statusClicked(a,new Array("https_status","httpport","http_session_timeout"));httpsStatusClicked()}else{statusClicked(a,new Array("https_status","httpsport","httpport","http_session_timeout"))}}function httpsStatusClicked(){var a=document.getElementById("https_status");statusClicked(a,new Array("httpsport"))}function telnetStatusClicked(){var a=document.getElementById("telnetd_status");statusClicked(a,new Array("telnetport"))}function sshStatusClicked(){$(".i_sshd").disable(!$("#ssh_status").is(":checked"))}function syslogStatusClicked(){var b=document.getElementById("syslog_status");var a=document.getElementById("rsyslog_status");if(a.checked){statusClicked(b,new Array("rsyslog_status","syslogip","syslogport","tcpsyslog_status"))}else{statusClicked(b,new Array("rsyslog_status"));statusClicked(a,new Array("syslogip","syslogport","tcpsyslog_status"))}}function rsyslogStatusClicked(){var a=document.getElementById("rsyslog_status");statusClicked(a,new Array("syslogip","syslogport","tcpsyslog_status"))}function validateSyslogHost(f,a,d){var e=document.getElementById("syslog_status");var b=document.getElementById("rsyslog_status");if(e.checked&&b.checked){return validateIP(d)&&d!="0.0.0.0"&&d!="255.255.255.255"}return true}function validateRoUser(){var a=$("#ro_status").is(":checked");if(a){var c=$.trim($("#rousername").val());var b=$.trim($("#adminname").val());return(c&&(c.length>0)&&(c!=b))}return true}function roUserStatusClicked(){var a=$("#ro_status").is(":checked");$(".i_rouser").enable(a);$(".rouser").toggle(a);$(".ropasswd").hide();$(".i_ropasswd").disable()}function dateStatusChanged(){$("#systemdate_ui").datepicker($("#date_status").is(":checked")?"enable":"disable")}function pad_date_num(a){return a<10?"0"+a:a.toString()}function appendSystemDate(a){var b=$("#systemdate_ui").val();if(b.length>0){var c=new Date(b);b="";if(!isNaN(c.getTime())){b=b.concat(pad_date_num(c.getMonth()+1),pad_date_num(c.getDate()),"0000",c.getFullYear().toString())}}a.append('<input type="hidden" name="systemdate" value="'+b+'"/>')}function validateCoord(c,a,b){if(b.length==0){return true}if(a=="latitude"){return LATITUDE_regex.test(b)}if(a=="longitude"){return LONGITUDE_regex.test(b)}return false}function validateNTPServer(c,a,b){if(validateIP(b)){return(b!="0.0.0.0")}return HOSTNAME_regex.test(b)}function dyndnsStatusClicked(){var a=document.getElementById("dyndnsstatus");statusClicked(a,new Array("dyndnsservicename","dyndnshostname","dyndnsusername","dyndnspassword","_dyndnspassword_x"))}function handleSuccess(b,d,a){if(d=="success"){if(b=="-1"){setError(jsTranslate("err_invalid_company_or_key|Incorrect Company Name or Key."))}else{if(b=="0"){var c=window.opener.location.href;clearError();$.blockUI({message:"<h3>Applying changes...</h3>"});$("#message").hide();setTimeout(function(){window.opener.location.href=c;window.close()},a*1000)}}}}function change_unii_state(a,b){if($("#uniband_name").val().length==0||$("#uniband_key").val().length==0){setError(jsTranslate("err_invalid_company_or_key|Incorrect Company Name or Key."));return}var c={};c.uniband_status=b;c.uniband_name=$("#uniband_name").val();c.uniband_key=$("#uniband_key").val();$.ajax({url:"/unlock.cgi",cache:false,data:c,success:function(d,e){handleSuccess(d,e,a)},})};