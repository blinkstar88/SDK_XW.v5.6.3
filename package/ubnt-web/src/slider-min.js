Slider.isSupported=typeof document.createElement!="undefined"&&typeof document.documentElement!="undefined"&&typeof document.documentElement.offsetWidth=="number";function Slider(e,g,h){if(!e){return}this._orientation=h||"horizontal";this._range=new Range();this._range.setExtent(0);this._blockIncrement=10;this._maxMarker=0;this._unitIncrement=1;this._timer=new Timer(100);if(Slider.isSupported&&e){this.document=e.ownerDocument||e.document;this.element=e;this.element.slider=this;this.element.unselectable="on";this.element.className=this._orientation+" "+this.classNameTag+" "+this.element.className;this.line=this.document.createElement("DIV");this.line.className="line";this.line.unselectable="on";this.line.appendChild(this.document.createElement("DIV"));this.element.appendChild(this.line);this.handle=this.document.createElement("DIV");this.handle.className="handle";this.handle.unselectable="on";this.handle.appendChild(this.document.createElement("DIV"));this.handle.firstChild.appendChild(this.document.createTextNode(String.fromCharCode(160)));this.element.appendChild(this.handle)}this.input=g;var f=this;this._range.onchange=function(){f.recalculate();if(typeof f.onchange=="function"){f.onchange()}};if(Slider.isSupported&&e){this.element.onfocus=Slider.eventHandlers.onfocus;this.element.onblur=Slider.eventHandlers.onblur;this.element.onmousedown=Slider.eventHandlers.onmousedown;this.element.onmouseover=Slider.eventHandlers.onmouseover;this.element.onmouseout=Slider.eventHandlers.onmouseout;this.element.onkeydown=Slider.eventHandlers.onkeydown;this.element.onkeypress=Slider.eventHandlers.onkeypress;this.element.onmousewheel=Slider.eventHandlers.onmousewheel;this.handle.onselectstart=this.element.onselectstart=function(){return false};this._timer.ontimer=function(){f.ontimer()};window.setTimeout(function(){f.recalculate()},1)}else{this.input.onchange=function(a){f.setValue(f.input.value)}}}Slider.eventHandlers={getEvent:function(c,d){if(!c){if(d){c=d.document.parentWindow.event}else{c=window.event}}if(!c.srcElement){var d=c.target;while(d!=null&&d.nodeType!=1){d=d.parentNode}c.srcElement=d}if(typeof c.offsetX=="undefined"){c.offsetX=c.layerX;c.offsetY=c.layerY}return c},getDocument:function(b){if(b.target){return b.target.ownerDocument}return b.srcElement.document},getSlider:function(c){var d=c.target||c.srcElement;while(d!=null&&d.slider==null){d=d.parentNode}if(d){return d.slider}return null},getLine:function(c){var d=c.target||c.srcElement;while(d!=null&&d.className!="line"){d=d.parentNode}return d},getHandle:function(f){var d=f.target||f.srcElement;var e=/handle/;while(d!=null&&!e.test(d.className)){d=d.parentNode}return d},onfocus:function(c){var d=this.slider;d._focused=true;d.handle.className="handle hover"},onblur:function(c){var d=this.slider;d._focused=false;d.handle.className="handle"},onmouseover:function(c){c=Slider.eventHandlers.getEvent(c,this);var d=this.slider;if(c.srcElement==d.handle){d.handle.className="handle hover"}},onmouseout:function(c){c=Slider.eventHandlers.getEvent(c,this);var d=this.slider;if(c.srcElement==d.handle&&!d._focused){d.handle.className="handle"}},onmousedown:function(g){g=Slider.eventHandlers.getEvent(g,this);var f=this.slider;if(f.element.focus){f.element.focus()}Slider._currentInstance=f;var h=f.document;if(h.addEventListener){h.addEventListener("mousemove",Slider.eventHandlers.onmousemove,true);h.addEventListener("mouseup",Slider.eventHandlers.onmouseup,true)}else{if(h.attachEvent){h.attachEvent("onmousemove",Slider.eventHandlers.onmousemove);h.attachEvent("onmouseup",Slider.eventHandlers.onmouseup);h.attachEvent("onlosecapture",Slider.eventHandlers.onmouseup);f.element.setCapture()}}if(Slider.eventHandlers.getHandle(g)){Slider._sliderDragData={screenX:g.screenX,screenY:g.screenY,dx:g.screenX-f.handle.offsetLeft,dy:g.screenY-f.handle.offsetTop,startValue:f.getValue(),slider:f}}else{var e=Slider.eventHandlers.getLine(g);f._mouseX=g.offsetX+(e?f.line.offsetLeft:0);f._mouseY=g.offsetY+(e?f.line.offsetTop:0);f._increasing=null;f.ontimer()}},onmousemove:function(k){k=Slider.eventHandlers.getEvent(k,this);if(Slider._sliderDragData){var n=Slider._sliderDragData.slider;var i=n.getMaximum()-n.getMinimum();var e,j,l;if(n._orientation=="horizontal"){e=n.element.offsetWidth-n.handle.offsetWidth;j=k.screenX-Slider._sliderDragData.dx;l=Math.abs(k.screenY-Slider._sliderDragData.screenY)>100}else{e=n.element.offsetHeight-n.handle.offsetHeight;j=n.element.offsetHeight-n.handle.offsetHeight-(k.screenY-Slider._sliderDragData.dy);l=Math.abs(k.screenX-Slider._sliderDragData.screenX)>100}n.setValue(l?Slider._sliderDragData.startValue:n.getMinimum()+i*j/e);return false}else{var n=Slider._currentInstance;if(n!=null){var m=Slider.eventHandlers.getLine(k);n._mouseX=k.offsetX+(m?n.line.offsetLeft:0);n._mouseY=k.offsetY+(m?n.line.offsetTop:0)}}},onmouseup:function(f){f=Slider.eventHandlers.getEvent(f,this);var e=Slider._currentInstance;var d=e.document;if(d.removeEventListener){d.removeEventListener("mousemove",Slider.eventHandlers.onmousemove,true);d.removeEventListener("mouseup",Slider.eventHandlers.onmouseup,true)}else{if(d.detachEvent){d.detachEvent("onmousemove",Slider.eventHandlers.onmousemove);d.detachEvent("onmouseup",Slider.eventHandlers.onmouseup);d.detachEvent("onlosecapture",Slider.eventHandlers.onmouseup);e.element.releaseCapture()}}if(Slider._sliderDragData){Slider._sliderDragData=null}else{e._timer.stop();e._increasing=null}Slider._currentInstance=null},onkeydown:function(f){f=Slider.eventHandlers.getEvent(f,this);var d=this.slider;var e=f.keyCode;switch(e){case 33:d.setValue(d.getValue()+d.getBlockIncrement());break;case 34:d.setValue(d.getValue()-d.getBlockIncrement());break;case 35:d.setValue(d.getOrientation()=="horizontal"?d.getMaximum():d.getMinimum());break;case 36:d.setValue(d.getOrientation()=="horizontal"?d.getMinimum():d.getMaximum());break;case 38:case 39:d.setValue(d.getValue()+d.getUnitIncrement());break;case 37:case 40:d.setValue(d.getValue()-d.getUnitIncrement());break}if(e>=33&&e<=40){return false}},onkeypress:function(c){c=Slider.eventHandlers.getEvent(c,this);var d=c.keyCode;if(d>=33&&d<=40){return false}},onmousewheel:function(c){c=Slider.eventHandlers.getEvent(c,this);var d=this.slider;if(d._focused){d.setValue(d.getValue()+c.wheelDelta/120*d.getUnitIncrement());return false}}};Slider.prototype.classNameTag="dynamic-slider-control",Slider.prototype.setValue=function(c){var d=this.getMaxMarker();if(d!=0&&c>d){c=d}this._range.setValue(c);this.input.value=this.getValue()};Slider.prototype.getValue=function(){return this._range.getValue()};Slider.prototype.setMinimum=function(b){this._range.setMinimum(b);this.input.value=this.getValue()};Slider.prototype.getMinimum=function(){return this._range.getMinimum()};Slider.prototype.setMaximum=function(b){this._range.setMaximum(b);this.input.value=this.getValue()};Slider.prototype.getMaximum=function(){return this._range.getMaximum()};Slider.prototype.setUnitIncrement=function(b){this._unitIncrement=b};Slider.prototype.getUnitIncrement=function(){return this._unitIncrement};Slider.prototype.setBlockIncrement=function(b){this._blockIncrement=b};Slider.prototype.getBlockIncrement=function(){return this._blockIncrement};Slider.prototype.setMaxMarker=function(b){this._maxMarker=b};Slider.prototype.getMaxMarker=function(){return this._maxMarker};Slider.prototype.getOrientation=function(){return this._orientation};Slider.prototype.setOrientation=function(b){if(b!=this._orientation){if(Slider.isSupported&&this.element){this.element.className=this.element.className.replace(this._orientation,b)}this._orientation=b;this.recalculate()}};Slider.prototype.recalculate=function(){if(!Slider.isSupported||!this.element){return}var m=this.element.offsetWidth;var k=this.element.offsetHeight;var h=this.handle.offsetWidth;var l=this.handle.offsetHeight;var j=this.line.offsetWidth;var n=this.line.offsetHeight;var i=(this.getMinimum()!=this.getMaximum());if(this._orientation=="horizontal"){if(i){this.handle.style.left=(m-h)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px"}this.handle.style.top=(k-l)/2+"px";this.line.style.top=(k-n)/2+"px";this.line.style.left=h/2+"px";this.line.style.width=Math.max(0,m-h-2)+"px";this.line.firstChild.style.width=Math.max(0,m-h-4)+"px"}else{this.handle.style.left=(m-h)/2+"px";if(i){this.handle.style.top=k-l-(k-l)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px"}this.line.style.left=(m-j)/2+"px";this.line.style.top=l/2+"px";this.line.style.height=Math.max(0,k-l-2)+"px";this.line.firstChild.style.height=Math.max(0,k-l-4)+"px"}};Slider.prototype.ontimer=function(){var e=this.handle.offsetWidth;var g=this.handle.offsetHeight;var f=this.handle.offsetLeft;var h=this.handle.offsetTop;if(this._orientation=="horizontal"){if(this._mouseX>f+e&&(this._increasing==null||this._increasing)){this.setValue(this.getValue()+this.getBlockIncrement());this._increasing=true}else{if(this._mouseX<f&&(this._increasing==null||!this._increasing)){this.setValue(this.getValue()-this.getBlockIncrement());this._increasing=false}}}else{if(this._mouseY>h+g&&(this._increasing==null||!this._increasing)){this.setValue(this.getValue()-this.getBlockIncrement());this._increasing=false}else{if(this._mouseY<h&&(this._increasing==null||this._increasing)){this.setValue(this.getValue()+this.getBlockIncrement());this._increasing=true}}}this._timer.start()};function Range(){this._value=0;this._minimum=0;this._maximum=100;this._extent=0;this._isChanging=false}Range.prototype.setValue=function(b){b=Math.round(parseFloat(b));if(isNaN(b)){return}if(this._value!=b){if(b+this._extent>this._maximum){this._value=this._maximum-this._extent}else{if(b<this._minimum){this._value=this._minimum}else{this._value=b}}if(!this._isChanging&&typeof this.onchange=="function"){this.onchange()}}};Range.prototype.getValue=function(){return this._value};Range.prototype.setExtent=function(b){if(this._extent!=b){if(b<0){this._extent=0}else{if(this._value+b>this._maximum){this._extent=this._maximum-this._value}else{this._extent=b}}if(!this._isChanging&&typeof this.onchange=="function"){this.onchange()}}};Range.prototype.getExtent=function(){return this._extent};Range.prototype.setMinimum=function(d){if(this._minimum!=d){var c=this._isChanging;this._isChanging=true;this._minimum=d;if(d>this._value){this.setValue(d)}if(d>this._maximum){this._extent=0;this.setMaximum(d);this.setValue(d)}if(d+this._extent>this._maximum){this._extent=this._maximum-this._minimum}this._isChanging=c;if(!this._isChanging&&typeof this.onchange=="function"){this.onchange()}}};Range.prototype.getMinimum=function(){return this._minimum};Range.prototype.setMaximum=function(c){if(this._maximum!=c){var d=this._isChanging;this._isChanging=true;this._maximum=c;if(c<this._value){this.setValue(c-this._extent)}if(c<this._minimum){this._extent=0;this.setMinimum(c);this.setValue(this._maximum)}if(c<this._minimum+this._extent){this._extent=this._maximum-this._minimum}if(c<this._value+this._extent){this._extent=this._maximum-this._value}this._isChanging=d;if(!this._isChanging&&typeof this.onchange=="function"){this.onchange()}}};Range.prototype.getMaximum=function(){return this._maximum};function Timer(b){this._pauseTime=typeof b=="undefined"?1000:b;this._timer=null;this._isStarted=false}Timer.prototype.start=function(){if(this.isStarted()){this.stop()}var b=this;this._timer=window.setTimeout(function(){if(typeof b.ontimer=="function"){b.ontimer()}},this._pauseTime);this._isStarted=false};Timer.prototype.stop=function(){if(this._timer!=null){window.clearTimeout(this._timer)}this._isStarted=false};Timer.prototype.isStarted=function(){return this._isStarted};Timer.prototype.getPauseTime=function(){return this._pauseTime};Timer.prototype.setPauseTime=function(b){this._pauseTime=b};